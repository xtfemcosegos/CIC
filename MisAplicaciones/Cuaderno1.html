<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hoja de Práctica de Escritura Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: #f0fdf4;
        }

        /* Contenedor de los dos cuadros */
        .practice-area {
            display: flex;
            align-items: flex-end;
            gap: 8px;
            margin-top: 10px;
        }

        /* Cuadros de escritura */
        .box-upper, .box-lower, .box-number {
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: #e2e8f0; /* Color para remarcar */
            user-select: none;
        }

        .box-upper, .box-number {
            height: 80px;
            width: 70px;
            background-color: #eff6ff;
            border-color: #3b82f6;
        }

        .box-lower {
            height: 50px;
            width: 60px;
            background-color: #ecfdf5;
            border-color: #10b981;
        }

        /* Línea de base */
        .box-upper::after, .box-lower::after, .box-number::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            border-bottom: 2px solid #cbd5e1;
            opacity: 0.5;
        }

        .letter-card {
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            padding: 15px;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }

        .letter-display {
            font-size: 2.8rem;
            color: #1e293b;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .box-label {
            font-size: 0.6rem;
            text-transform: uppercase;
            font-weight: bold;
            color: #64748b;
            margin-bottom: 2px;
        }

        /* Estilo para el nombre a remarcar */
        #display-name {
            color: #e2e8f0;
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 2px;
        }

        @media print {
            .no-print { display: none !important; }
            body { background-color: white; padding: 0; }
            .letter-card { 
                box-shadow: none; 
                border: 1px solid #e2e8f0;
                break-inside: avoid;
                padding: 10px;
            }
            .box-upper, .box-lower, .box-number { background: none !important; }
            
            /* Forzar 5 columnas por fila en la impresión */
            #grid-container {
                display: grid !important;
                grid-template-columns: repeat(5, 1fr) !important;
                gap: 8px !important;
            }

            .letter-display {
                font-size: 2rem;
            }
            
            .box-upper, .box-number {
                height: 60px;
                width: 55px;
            }
            .box-lower {
                height: 40px;
                width: 45px;
            }
        }

        .calendar-box {
            border: 3px solid #3b82f6;
            border-radius: 15px;
            padding: 15px;
            background: white;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-5xl mx-auto">
        <!-- Panel de Control (No imprimible) -->
        <div class="no-print bg-white p-6 rounded-2xl shadow-xl mb-8 border-2 border-blue-100">
            <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                ⚙️ Configuración de la Hoja
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-end">
                <!-- Selector de Modo -->
                <div>
                    <label for="mode-select" class="block text-sm font-bold text-gray-600 mb-2">Selecciona qué practicar:</label>
                    <select id="mode-select" onchange="setMode(this.value)" class="w-full px-4 py-2 border-2 border-blue-200 rounded-lg focus:outline-none focus:border-blue-500 transition-all bg-white font-medium text-gray-700">
                        <option value="vacio">Abecedario (Vacío)</option>
                        <option value="remarcar">Abecedario (Para Remarcar)</option>
                        <option value="especiales">Caracteres y Símbolos Especiales</option>
                        <option value="numeros">Números del 1 al 10</option>
                        <option value="texto">Texto Libre / Personalizado</option>
                    </select>
                </div>

                <!-- Input Nombre del Alumno -->
                <div>
                    <label for="name-input" class="block text-sm font-bold text-gray-600 mb-2">Nombre del alumno (para remarcar):</label>
                    <input type="text" id="name-input" maxlength="25" placeholder="Escribe el nombre aquí" 
                           class="w-full px-4 py-2 border-2 border-blue-200 rounded-lg focus:outline-none focus:border-blue-500 transition-all"
                           oninput="updateStudentName(this.value)">
                </div>

                <!-- Input de Texto (Solo visible en modo texto) -->
                <div id="custom-text-container" class="hidden">
                    <label class="block text-sm font-bold text-gray-600 mb-2">Escribe tu texto:</label>
                    <input type="text" id="custom-input" maxlength="30" placeholder="Ej: Mamá, Papá..." 
                           class="w-full px-4 py-2 border-2 border-blue-200 rounded-lg focus:outline-none focus:border-blue-500 transition-all">
                </div>

                <div class="flex items-end justify-end lg:col-span-3">
                    <button onclick="window.print()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-xl shadow-lg flex items-center gap-2 transition-all transform hover:scale-105">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9V2h12v7"></path><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
                        Imprimir Hoja
                    </button>
                </div>
            </div>
        </div>

        <!-- Encabezado de la Hoja -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="md:col-span-2 flex flex-col justify-center">
                <div class="flex items-center gap-3 border-b-2 border-dashed border-blue-200 pb-2">
                    <span class="text-xl font-bold text-gray-700">Nombre:</span>
                    <div id="display-name" class="flex-grow min-w-[200px]"></div>
                </div>
            </div>
            
            <div class="calendar-box">
                <div class="text-center font-bold text-blue-600 border-b mb-2 text-xs uppercase tracking-wider">Calendario</div>
                <div class="grid grid-cols-3 gap-2 text-center">
                    <div>
                        <span class="text-[9px] text-gray-400 block font-bold uppercase">Día</span>
                        <div class="border-b border-gray-300 h-6"></div>
                    </div>
                    <div>
                        <span class="text-[9px] text-gray-400 block font-bold uppercase">Mes</span>
                        <div class="border-b border-gray-300 h-6"></div>
                    </div>
                    <div>
                        <span class="text-[9px] text-gray-400 block font-bold uppercase">Año</span>
                        <div class="border-b border-gray-300 h-6"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Título dinámico -->
        <div class="text-center mb-6">
            <h2 id="sheet-title" class="text-2xl font-bold text-gray-800 border-b-2 border-blue-500 inline-block px-4 pb-2">Practicamos el Abecedario</h2>
        </div>

        <!-- Contenedor Dinámico -->
        <div id="grid-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <!-- El contenido se genera dinámicamente -->
        </div>

        <footer class="mt-12 text-center text-gray-400 text-xs pb-10 uppercase tracking-widest">
            Práctica Escolar • Educación Temprana • Español
        </footer>
    </div>

    <script>
        let currentMode = 'vacio';
        const alphabet = [
            'Aa', 'Bb', 'Cc', 'Dd', 'Ee', 'Ff', 'Gg', 'Hh', 'Ii', 'Jj', 
            'Kk', 'Ll', 'Mm', 'Nn', 'Ññ', 'Oo', 'Pp', 'Qq', 'Rr', 'Ss', 
            'Tt', 'Uu', 'Vv', 'Ww', 'Xx', 'Yy', 'Zz'
        ];
        const specialChars = ['Áá', 'Éé', 'Íí', 'Óó', 'Úú', 'Üü', '¡!', '¿?', '""', '/', '#'];
        const numbers = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];

        const grid = document.getElementById('grid-container');
        const input = document.getElementById('custom-input');
        const containerInput = document.getElementById('custom-text-container');
        const sheetTitle = document.getElementById('sheet-title');
        const displayName = document.getElementById('display-name');

        function updateStudentName(val) {
            displayName.textContent = val;
        }

        function setMode(mode) {
            currentMode = mode;
            
            if (mode === 'texto') {
                containerInput.classList.remove('hidden');
                sheetTitle.textContent = "Escritura Libre";
            } else if (mode === 'numeros') {
                containerInput.classList.add('hidden');
                sheetTitle.textContent = "Practicamos los Números";
            } else if (mode === 'especiales') {
                containerInput.classList.add('hidden');
                sheetTitle.textContent = "Símbolos y Caracteres Especiales";
            } else {
                containerInput.classList.add('hidden');
                sheetTitle.textContent = "Practicamos el Abecedario";
            }

            render();
        }

        function render() {
            grid.innerHTML = '';
            
            if (currentMode === 'vacio' || currentMode === 'remarcar') {
                alphabet.forEach(pair => {
                    createLetterCard(pair, pair[0], pair[1], currentMode === 'remarcar');
                });
            } else if (currentMode === 'especiales') {
                specialChars.forEach(pair => {
                    const trace1 = pair[0];
                    const trace2 = pair.length > 1 ? pair[1] : pair[0];
                    const isSymbol = !/[a-zA-Záéíóúüñ]/i.test(pair);
                    createLetterCard(pair, trace1, trace2, true, null, isSymbol);
                });
            } else if (currentMode === 'numeros') {
                numbers.forEach(num => {
                    createNumberCard(num);
                });
            } else if (currentMode === 'texto') {
                const text = input.value || "Escribe aquí";
                [...text].forEach(char => {
                    if (char.trim() === "") {
                        const spacer = document.createElement('div');
                        spacer.className = 'hidden sm:block';
                        grid.appendChild(spacer);
                        return;
                    }
                    const isUpper = char === char.toUpperCase() && char !== char.toLowerCase();
                    createLetterCard(char, isUpper ? char : '', isUpper ? '' : char, true, char);
                });
            }
        }

        function createLetterCard(title, upperTrace, lowerTrace, isTracing, customMainChar = null, isSymbol = false) {
            const card = document.createElement('div');
            card.className = `letter-card`;
            const displayTitle = customMainChar ? customMainChar : title;
            
            const label1 = isSymbol ? "Trazo 1" : "Mayúscula";
            const label2 = isSymbol ? "Trazo 2" : "Minúscula";

            card.innerHTML = `
                <div class="letter-display">${displayTitle}</div>
                <div class="practice-area">
                    <div class="flex flex-col items-center">
                        <span class="box-label">${label1}</span>
                        <div class="box-upper">${isTracing ? upperTrace : ''}</div>
                    </div>
                    <div class="flex flex-col items-center">
                        <span class="box-label">${label2}</span>
                        <div class="box-lower">${isTracing ? lowerTrace : ''}</div>
                    </div>
                </div>
            `;
            grid.appendChild(card);
        }

        function createNumberCard(num) {
            const card = document.createElement('div');
            card.className = `letter-card`;
            
            card.innerHTML = `
                <div class="letter-display">${num}</div>
                <div class="practice-area">
                    <div class="flex flex-col items-center">
                        <span class="box-label">Trazo</span>
                        <div class="box-number">${num}</div>
                    </div>
                    <div class="flex flex-col items-center">
                        <span class="box-label">Práctica</span>
                        <div class="box-number"></div>
                    </div>
                </div>
            `;
            grid.appendChild(card);
        }

        input.addEventListener('input', render);
        render();
    </script>
</body>
</html>